<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Opret Booking - Nordisk Film</title>
    <!-- CSS organiseret i separate filer -->
    <link rel="stylesheet" href="../css/colors.css">
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/header.css">
    <link rel="stylesheet" href="../css/bookings.css">
    <link rel="stylesheet" href="../css/form.css">
    <link rel="stylesheet" href="../css/responsive.css">
</head>
<body>
    <!-- Header med Nordisk Film logo -->
    <header class="header">
        <div class="header-content">
            <div class="logo-section">
                <img src="../assets/logo.png" alt="Nordisk Film Logo" class="logo-image">
                <div class="logo-text">
                    <h1>NORDISK FILM</h1>
                    <p>B2B Booking System</p>
                </div>
            </div>
        </div>
    </header>

    <!-- Hovedindhold container -->
    <main class="page-container">
        <!-- Page header med tilbage knap -->
        <div class="page-header">
            <h1>Opret Ny Booking</h1>
            <a href="/" class="back-btn">
                ← Tilbage til Dashboard
            </a>
        </div>

        <!-- Booking form container -->
        <div class="form-container">
            <form id="bookingForm">
                <input type="hidden" id="bookingId" name="bookingId">
                
                <!-- Grundlæggende oplysninger sektion -->
                <div class="form-section">
                    <h3 class="section-title">Grundlæggende Oplysninger</h3>
                    
                    <!-- Booking titel - valgfri -->
                    <div class="form-group">
                        <label class="form-label" for="title">Booking Titel</label>
                        <input type="text" id="title" name="title" class="form-input" 
                               placeholder="F.eks. Filminstruktion for virksomhed X">
                    </div>

                    <!-- Klient navn og email på samme række -->
                    <div class="form-row">
                        <div class="form-group required">
                            <label class="form-label required" for="client_name">Klient Navn</label>
                            <input type="text" id="client_name" name="client_name" class="form-input" 
                                   placeholder="Indtast kunde/klient navn" required>
                        </div>
                        <div class="form-group required">
                            <label class="form-label required" for="email">Email</label>
                            <input type="email" id="email" name="email" class="form-input" 
                                   placeholder="kontakt@klient.dk" required>
                        </div>
                    </div>

                    <!-- Biograf lokation - nyt felt -->
                    <div class="form-group">
                        <label class="form-label" for="cinema_location">Biograf</label>
                        <select id="cinema_location" name="cinema_location" class="form-input">
                            <option value="Kennedy">Kennedy</option>
                            <option value="City Syd">City Syd</option>
                        </select>
                    </div>

                    <!-- Mail datoer -->
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="mail_received_date">Dato for modtagelse af mail</label>
                            <input type="date" id="mail_received_date" name="mail_received_date" class="form-input">
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="last_mail_sent_date">Dato for sidste mail sendt</label>
                            <input type="date" id="last_mail_sent_date" name="last_mail_sent_date" class="form-input">
                        </div>
                    </div>

                    <!-- Dato og tid række - kun dato er påkrævet -->
                    <div class="form-row">
                        <div class="form-group required">
                            <label class="form-label required" for="booking_date">Booking Dato</label>
                            <input type="date" id="booking_date" name="booking_date" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="start_time">Start Tid</label>
                            <input type="time" id="start_time" name="start_time" class="form-input">
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="end_time">Slut Tid</label>
                            <input type="time" id="end_time" name="end_time" class="form-input">
                        </div>
                    </div>

                    <!-- Antal deltagere -->
                    <div class="form-group">
                        <label class="form-label" for="participant_count">Antal deltagere</label>
                        <input type="number" id="participant_count" name="participant_count" class="form-input" 
                               placeholder="Antal personer" min="1">
                    </div>
                </div>

                <!-- Film sektion - omstruktureret til ja/nej spørgsmål -->
                <div class="form-section">
                    <h3 class="section-title">Film Information</h3>
                    
                    <div class="form-group">
                        <label class="form-label" for="film_required">Skal de se film?</label>
                        <select id="film_required" name="film_required" class="form-input">
                            <option value="0">Nej</option>
                            <option value="1">Ja</option>
                        </select>
                    </div>

                    <!-- Film titel (vises når film er valgt) -->
                    <div class="form-group" id="filmTitleGroup" style="display: none;">
                        <label class="form-label" for="film_title">Hvilken film</label>
                        <input type="text" id="film_title" name="film_title" class="form-input" 
                               placeholder="Indtast filmtitel">
                    </div>
                </div>

                <!-- Forplejning sektion - tilføjet beskrivelse felt -->
                <div class="form-section">
                    <h3 class="section-title">Forplejning</h3>
                    
                    <div class="form-group">
                        <label class="form-label" for="catering_required">Forplejning nødvendig?</label>
                        <select id="catering_required" name="catering_required" class="form-input">
                            <option value="0">Nej</option>
                            <option value="1">Ja</option>
                        </select>
                    </div>

                    <!-- Forplejning detaljer (vises når forplejning er valgt) -->
                    <div class="form-group" id="cateringDetailsGroup" style="display: none;">
                        <label class="form-label" for="catering_details">Beskrivelse af forplejning</label>
                        <textarea id="catering_details" name="catering_details" class="form-textarea" rows="3" 
                                  placeholder="Beskriv forplejning behov..."></textarea>
                    </div>
                </div>

                <!-- Teknik sektion - ny struktur -->
                <div class="form-section">
                    <h3 class="section-title">Teknik</h3>
                    
                    <div class="form-group">
                        <label class="form-label" for="tech_required">Teknik nødvendig?</label>
                        <select id="tech_required" name="tech_required" class="form-input">
                            <option value="0">Nej</option>
                            <option value="1">Ja</option>
                        </select>
                    </div>

                    <!-- Teknik detaljer (vises når teknik er valgt) -->
                    <div class="form-group" id="techDetailsGroup" style="display: none;">
                        <label class="form-label" for="tech_details">Beskrivelse af teknik</label>
                        <textarea id="tech_details" name="tech_details" class="form-textarea" rows="3" 
                                  placeholder="Beskriv teknik behov..."></textarea>
                    </div>
                </div>

                <!-- Bekræftelser og arrangementer sektion - reduceret -->
                <div class="form-section">
                    <h3 class="section-title">Bekræftelser & Arrangementer</h3>
                    
                    <!-- Bekræftelse checkboxes i rækker -->
                    <div class="checkbox-grid">
                        <div class="checkbox-group">
                            <input type="checkbox" id="time_confirmed" name="time_confirmed" value="1">
                            <label class="checkbox-label" for="time_confirmed">Kl - Bekræftet</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="own_room" name="own_room" value="1">
                            <label class="checkbox-label" for="own_room">Egen sal</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="foyer_required" name="foyer_required" value="1">
                            <label class="checkbox-label" for="foyer_required">Foyer</label>
                        </div>
                    </div>
                </div>

                <!-- Pris og betaling sektion - ændret til input felt -->
                <div class="form-section">
                    <h3 class="section-title">Pris & Betaling</h3>
                    
                    <div class="form-group">
                        <label class="form-label" for="arrangement_price">Pris på film/arrangement</label>
                        <input type="number" id="arrangement_price" name="arrangement_price" class="form-input" 
                               placeholder="Indtast pris" min="0" step="0.01">
                    </div>
                    
                    <div class="checkbox-grid">
                        <div class="checkbox-group">
                            <input type="checkbox" id="ticket_price_sent" name="ticket_price_sent" value="1">
                            <label class="checkbox-label" for="ticket_price_sent">Billetpris sendt til kunde</label>
                        </div>
                    </div>
                </div>

                <!-- Personale og administration sektion -->
                <div class="form-section">
                    <h3 class="section-title">Personale & Administration</h3>
                    
                    <div class="checkbox-grid">
                        <div class="checkbox-group">
                            <input type="checkbox" id="extra_staff" name="extra_staff" value="1">
                            <label class="checkbox-label" for="extra_staff">Ekstra personale på</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="staff_informed" name="staff_informed" value="1">
                            <label class="checkbox-label" for="staff_informed">Er personale informeret</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="tickets_reserved" name="tickets_reserved" value="1">
                            <label class="checkbox-label" for="tickets_reserved">Billetter reserveret</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="terms_written" name="terms_written" value="1">
                            <label class="checkbox-label" for="terms_written">Er betingelserne skrevet</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="on_special_list" name="on_special_list" value="1">
                            <label class="checkbox-label" for="on_special_list">På særlisten</label>
                        </div>
                    </div>
                </div>

                <!-- Beskrivelse og noter -->
                <div class="form-section">
                    <h3 class="section-title">Noter & Beskrivelse</h3>
                    <div class="form-group">
                        <label class="form-label" for="description">Beskrivelse/Noter</label>
                        <textarea id="description" name="description" class="form-textarea" rows="4" 
                                  placeholder="Indtast eventuelle noter eller beskrivelser..."></textarea>
                    </div>
                </div>

                <!-- Form handlinger -->
                <div class="form-buttons">
                    <button type="button" class="form-btn form-btn-secondary" onclick="window.location.href='/'">
                        Annuller
                    </button>
                    <button type="submit" id="submitBtn" class="form-btn form-btn-primary">
                        Opret Booking
                    </button>
                </div>
            </form>
        </div>
    </main>

    <!-- JavaScript organiseret i separate filer -->
    <script src="../js/config.js"></script>
    <script src="../js/utils.js"></script>
    <script src="../js/api.js"></script>
    <script src="../js/create-booking.js"></script>
    
    <script>
        // Viser/skjuler film titel felt baseret på valg
        document.getElementById('film_required').addEventListener('change', function() {
            const filmTitleGroup = document.getElementById('filmTitleGroup');
            if (this.value === '1') {
                filmTitleGroup.style.display = 'block';
            } else {
                filmTitleGroup.style.display = 'none';
                document.getElementById('film_title').value = '';
            }
        });

        // Viser/skjuler forplejning detaljer baseret på valg
        document.getElementById('catering_required').addEventListener('change', function() {
            const cateringDetailsGroup = document.getElementById('cateringDetailsGroup');
            if (this.value === '1') {
                cateringDetailsGroup.style.display = 'block';
            } else {
                cateringDetailsGroup.style.display = 'none';
                document.getElementById('catering_details').value = '';
            }
        });

        // Viser/skjuler teknik detaljer baseret på valg
        document.getElementById('tech_required').addEventListener('change', function() {
            const techDetailsGroup = document.getElementById('techDetailsGroup');
            if (this.value === '1') {
                techDetailsGroup.style.display = 'block';
            } else {
                techDetailsGroup.style.display = 'none';
                document.getElementById('tech_details').value = '';
            }
        });
    </script>
</body>
</html> 